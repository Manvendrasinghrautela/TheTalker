{% extends 'blog_app/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog_app/article_detail.css' %}">
{% endblock %}

{% block content %}
<div class="article-container">
  <div class="article-content">
    <!-- Hero Image Section -->
    <div class="hero-section">
      {% if post.image %}
        <img src="{{ post.image.url }}" alt="{{ post.title }}" class="hero-image">
      {% else %}
        <div class="hero-placeholder"></div>
      {% endif %}
    </div>

    <!-- Article Content -->
    <div class="article-main">
      <h1 class="article-title">{{ post.title }}</h1>
      
      <div class="article-meta">
        {% if post.author %}
        By <span class="author-name">{{ post.author }}</span> â€¢ 
        {% endif %}
        <span class="publish-date">{{ post.created_at|date:"F j, Y" }}</span>
      </div>

      <div class="article-body">
        {{ post.content|linebreaks }}
      </div>

      <!-- Quote Section -->
      <div class="article-quote">
        <div class="quote-mark">"</div>
        <div class="quote-text">
          {% if post.content|length > 200 %}
            {{ post.content|slice:":200" }}...
          {% else %}
            Explore this fascinating topic and discover new perspectives in our comprehensive analysis.
          {% endif %}
        </div>
        <div class="quote-dots">â€¢ â€¢ â€¢</div>
      </div>
    </div>
  </div>

  <!-- Related Articles Sidebar -->
  <aside class="related-sidebar">
    <h3 class="sidebar-title">Related Articles</h3>
    
    <div class="related-articles">
      {% for rel in related|slice:":3" %}
        <div class="related-card related-card-{{ forloop.counter }}">
          {% if rel.slug %}
            <a href="{% url 'article_detail' rel.slug %}" class="related-link">
          {% else %}
            <a href="{% url 'post_detail' rel.pk %}" class="related-link">
          {% endif %}
            <div class="related-content">
              <div class="related-title-text">{{ rel.title|truncatewords:5 }}</div>
              <div class="related-excerpt">{{ rel.content|truncatewords:8 }}</div>
            </div>
            
            <div class="related-image-container">
              {% if rel.image %}
                <img src="{{ rel.image.url }}" alt="{{ rel.title }}" class="related-image">
              {% else %}
                <div class="related-placeholder">ðŸ“„</div>
              {% endif %}
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  </aside>
</div>

<!-- Explore More Section -->
<div class="explore-more-section">
  <h2 class="explore-title">Explore More</h2>
  <div class="explore-scroll-container">
    <div class="explore-articles">
      {% for post in posts|slice:":10" %}
        <div class="explore-card">
          {% if post.slug %}
            <a href="{% url 'article_detail' post.slug %}" class="explore-link">
          {% else %}
            <a href="{% url 'post_detail' post.pk %}" class="explore-link">
          {% endif %}
            <div class="explore-image">
              {% if post.image %}
                <img src="{{ post.image.url }}" alt="{{ post.title }}" class="explore-img">
              {% else %}
                <div class="explore-placeholder">ðŸ“„</div>
              {% endif %}
            </div>
            <div class="explore-content">
              <h3 class="explore-article-title">{{ post.title|truncatewords:6 }}</h3>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
